import{u as Q}from"./auth-KGSQmcys.js";import{aZ as L,g as O,a_ as W,a$ as X,l as D,b0 as T,b1 as j,b2 as Y,b3 as M,b4 as k,b5 as V,al as ee,b6 as te,b7 as C,b8 as A,b9 as se,a3 as z,ba as E,e as re,J as H,f as oe,z as ae,r as I,o as g,n as w,w as h,b as s,m as r,_ as ne,c as $,M as U,H as K,q as S,t as x,L as R,a as d,bb as le,bc as ie,bd as ue,be as ce,bf as de,bg as pe,I as fe}from"./main-vzIkKseS.js";import{u as F}from"./global-TrqB6NgK.js";import{N as he}from"./NotificationRoot-dU6Sc2aV.js";var a;(function(p){p[p.Open=0]="Open",p[p.Closed=1]="Closed"})(a||(a={}));var q=Symbol("DisclosureContext");function B(p){var e=z(q,null);if(e===null){var o=new Error("<"+p+" /> is missing a parent <Disclosure /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(o,B),o}return e}var G=Symbol("DisclosurePanelContext");function me(){return z(G,null)}var ve=L({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup:function(e,o){var t=o.slots,l=o.attrs,b="headlessui-disclosure-button-"+E(),y="headlessui-disclosure-panel-"+E(),i=O(e.defaultOpen?a.Open:a.Closed),_=O(null),n=O(null),v={buttonId:b,panelId:y,disclosureState:i,panel:_,button:n,toggleDisclosure:function(){var c;i.value=T(i.value,(c={},c[a.Open]=a.Closed,c[a.Closed]=a.Open,c))},closeDisclosure:function(){i.value!==a.Closed&&(i.value=a.Closed)},close:function(c){v.closeDisclosure();var m=function(){return c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?k(c):k(v.button):k(v.button)}();m==null||m.focus()}};return W(q,v),X(D(function(){var f;return T(i.value,(f={},f[a.Open]=j.Open,f[a.Closed]=j.Closed,f))})),function(){var f=Y(e,["defaultOpen"]),c={open:i.value===a.Open,close:v.close};return M({props:f,slot:c,slots:t,attrs:l,name:"Disclosure"})}}}),ge=L({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},render:function(){var e=B("DisclosureButton"),o={open:e.disclosureState.value===a.Open},t=this.isWithinPanel?{ref:"el",type:this.type,onClick:this.handleClick,onKeydown:this.handleKeyDown}:{id:this.id,ref:"el",type:this.type,"aria-expanded":this.$props.disabled?void 0:e.disclosureState.value===a.Open,"aria-controls":k(e.panel)?e.panelId:void 0,disabled:this.$props.disabled?!0:void 0,onClick:this.handleClick,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp};return M({props:V({},this.$props,t),slot:o,attrs:this.$attrs,slots:this.$slots,name:"DisclosureButton"})},setup:function(e,o){var t=o.attrs,l=B("DisclosureButton"),b=me(),y=b===null?!1:b===l.panelId,i=O(null);return y||ee(function(){l.button.value=i.value}),{isWithinPanel:y,id:l.buttonId,el:i,type:te(D(function(){return{as:e.as,type:t.type}}),i),handleClick:function(){if(!e.disabled)if(y){var n;l.toggleDisclosure(),(n=k(l.button))==null||n.focus()}else l.toggleDisclosure()},handleKeyDown:function(n){var v;if(!e.disabled)if(y)switch(n.key){case C.Space:case C.Enter:n.preventDefault(),n.stopPropagation(),l.toggleDisclosure(),(v=k(l.button))==null||v.focus();break}else switch(n.key){case C.Space:case C.Enter:n.preventDefault(),n.stopPropagation(),l.toggleDisclosure();break}},handleKeyUp:function(n){switch(n.key){case C.Space:n.preventDefault();break}}}}}),ye=L({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e=B("DisclosurePanel"),o={open:e.disclosureState.value===a.Open,close:e.close},t={id:this.id,ref:"el"};return M({props:V({},this.$props,t),slot:o,attrs:this.$attrs,slots:this.$slots,features:A.RenderStrategy|A.Static,visible:this.visible,name:"DisclosurePanel"})},setup:function(){var e=B("DisclosurePanel");W(G,e.panelId);var o=se(),t=D(function(){return o!==null?o.value===j.Open:e.disclosureState.value===a.Open});return{id:e.panelId,el:e.panel,visible:t}}});const be={class:"mx-auto px-8"},_e={class:"flex justify-between h-16 w-full"},xe={class:"flex"},we={class:"shrink-0 flex items-center"},ke=["href"],De=["src"],Ce={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},Se={class:"hidden sm:ml-6 sm:flex sm:items-center"},$e=s("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Oe=["src"],Be={class:"-mr-2 flex items-center sm:hidden"},Pe=s("span",{class:"sr-only"},"Open main menu",-1),Ie={class:"pt-2 pb-3 space-y-1"},Ue={class:"pt-4 pb-3 border-t border-gray-200"},Ke={class:"flex items-center px-4"},Re={class:"shrink-0"},je=["src"],Le={class:"ml-3"},Me={class:"text-base font-medium text-gray-800"},Ne={class:"text-sm font-medium text-gray-500"},Te=s("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Ae={class:"mt-3 space-y-1"},Ee={setup(p){const{t:e}=re(),o=H(),t=F(),l=[{title:e("navigation.logout"),link:`/${t.companySlug}/customer/login`}],b=Q(),y=oe(),i=O(""),_=D(()=>t.currentUser&&t.currentUser.avatar!==0?t.currentUser.avatar:n());function n(){return new URL("/build/assets/default-avatar-4j3-l2sn.jpg",import.meta.url)}ae(o,m=>{i.value=m.path},{immediate:!0});const v=D(()=>window.customer_logo?window.customer_logo:!1);function f(m){return o.path.indexOf(m)>-1}function c(){b.logout(t.companySlug).then(m=>{m&&y.push({name:"customer.login"})})}return(m,ze)=>{const P=I("router-link"),N=I("BaseDropdownItem"),J=I("BaseDropdown");return g(),w(r(ve),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:h(({open:Z})=>[s("div",be,[s("div",_e,[s("div",xe,[s("div",we,[s("a",{href:`/${r(t).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[r(v)?(g(),$("img",{key:1,src:r(v),class:"h-6"},null,8,De)):(g(),w(ne,{key:0,class:"h-6"}))],8,ke)]),s("div",Ce,[(g(!0),$(R,null,U(r(t).mainMenu,u=>(g(),w(P,{key:u.title,to:`/${r(t).companySlug}${u.link}`,class:K([f(u.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:h(()=>[S(x(u.title),1)]),_:2},1032,["to","class"]))),128))])]),s("div",Se,[$e,d(r(ce),{as:"div",class:"ml-3 relative"},{default:h(()=>[d(J,{"width-class":"w-48"},{activator:h(()=>[d(r(le),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:h(()=>[s("img",{class:"h-8 w-8 rounded-full",src:r(_),alt:""},null,8,Oe)]),_:1})]),default:h(()=>[d(P,{to:{name:"customer.profile"}},{default:h(()=>[d(N,null,{default:h(()=>[d(r(ie),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),S(" "+x(m.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),d(N,{onClick:c},{default:h(()=>[d(r(ue),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),S(" "+x(m.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),s("div",Be,[d(r(ge),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:h(()=>[Pe,Z?(g(),w(r(pe),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(g(),w(r(de),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),d(r(ye),{class:"sm:hidden"},{default:h(()=>[s("div",Ie,[(g(!0),$(R,null,U(r(t).mainMenu,u=>(g(),w(P,{key:u.title,to:`/${r(t).companySlug}${u.link}`,class:K([f(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":u.current?"page":void 0},{default:h(()=>[S(x(u.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),s("div",Ue,[s("div",Ke,[s("div",Re,[s("img",{class:"h-10 w-10 rounded-full",src:r(_),alt:""},null,8,je)]),s("div",Le,[s("div",Me,x(r(t).currentUser.title),1),s("div",Ne,x(r(t).currentUser.email),1)]),Te]),s("div",Ae,[(g(),$(R,null,U(l,u=>d(P,{key:u.title,to:u.link,class:K([f(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:h(()=>[S(x(u.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},We={key:0,class:"h-full"},Ve={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Je={setup(p){const e=F(),o=H(),t=D(()=>e.isAppLoaded);l();async function l(){await e.bootstrap(o.params.company)}return(b,y)=>{const i=I("router-view");return r(t)?(g(),$("div",We,[d(he),d(Ee),s("main",Ve,[d(i)])])):fe("",!0)}}};export{Je as default};
